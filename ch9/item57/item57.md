> ***지역변수의 범위를 최소화하라***

<br>

### 좋지 않은 습관

 이전 알고리즘 문제를 풀 때 필요한 변수들을 코드 최상단에 미리 선언해두고 사용했다. 그런데 문제는 알고리즘을 작성하다가 중간에 그 변수가 필요 없어지면 초기화도 안 하고 그냥 방치하게 된다. 이를 제출하기 직전에야 발견하곤 하는데, 이렇게 방치된 변수들은 가독성을 해치고 오류를 발생시키기 쉽다.

<br>

 이런 문제를 미연에 방지하기 위해 아이템에서는 **지역변수의 유효 범위를 최소화하라**고 제안하고 있다.

<br>

### 가장 처음에 쓰일 때 선언하고 초기화하기

 지역변수는 말 그대로 **특정 범위의 코드블록에서만 사용**되고 그 밖에서는 접근할 수 없어야 한다. 미리 최상단에 모두 선언해두는 방식은 이러한 본질을 해치고 의도하지 않은 동작으로 이어질 수 있다. 

<br>

따라서 아래 코드처럼 처음 사용할 때 선언과 동시에 초기화하자.

```java
// 나쁜 예: 최상단에 미리 선언
int sum;
int count;
String result;

// 중간 코드

sum = 0;
for (int i = 0; i < 10; i++) {
    sum += i;
}

// 좋은 예: 사용 시점에 선언 및 초기화
int sum = 0;
for (int i = 0; i < 10; i++) {
    sum += i;
}
```

<br>

단, **try-catch**처럼 반드시 나중에 초기화되어야 하는 경우는 예외다.

```java
BufferedReader br;
try {
    br = new BufferedReader(new FileReader("file.txt"));
    // 사용
} catch (IOException e) {
    // 예외 처리
}
```

<br>

### 반복문에서

 for 반복문은 범위, 변수, 증감 선언문에서 변수를 선언할 수 있으며, 그 변수는 for 코드 블록 내에서만 사용 가능하다. 따라서 반복 변수를 반복문 종료 후에도 사용해야 하는 상황이 아니라면 for 문을 사용하는 것이 좋다.

```java
// 나쁜 예: 반복 변수를 밖에서 선언
int i = 0;
while (i < 10) {
    System.out.println(i);
    i++;
}
// i는 여전히 접근 가능 (의도하지 않은 재사용 가능)

// 좋은 예: for 문 사용
for (int i = 0; i < 10; i++) {
    System.out.println(i);
}
// i는 여기서 접근 불가
```

<br>

 또한 복사 붙여넣기할 때에도 각 반복 변수가 각 반복문에서만 유효하므로 아래와 같은 오류를 방지할 수 있다.

```java
// 나쁜 예: while 문 복사 시 변수명 충돌
int i = 0;
while (i < 10) {
    System.out.println(i);
    i++;
}

int i = 0;  // 컴파일 에러: 변수 i 중복 선언
while (i < 20) {
    System.out.println(i);
    i++;
}

// 좋은 예: for 문은 각각 독립적
for (int i = 0; i < 10; i++) {
    System.out.println(i);
}

for (int i = 0; i < 20; i++) {  // 문제없음
    System.out.println(i);
}
```

<br>

### 마지막 방법

 메서드를 **작게 유지하고 단일 기능 구현에 집중**한다면, 지역변수가 공유되는 범위가 최소화된다. 반면 여러 기능을 담당하는 메서드에서는 각 기능이 서로 관련 없는 지역변수를 참조할 수 있게 되어 의도하지 않은 동작을 유발할 수 있다.
